READ R0
LOAD R1 const1
LOAD R2 const0
LOAD R3 const0

SUB R0 R1
JN endNeg

loop: LOAD R3 const0
OR R0 R3
JZ endOK1
ADD R2 R1
LOAD R3 const1
SUB R0 R3
LOAD R3 const0
OR R0 R3
JZ endOK2
ADD R1 R2
LOAD R3 const1
SUB R0 R3
JUMP loop

endOK2: COPY R1 R2
endOK1: WRITE R1
HALT

endNeg: LOAD R1 const0
WRITE R1
HALT

const0: WORD 0
const1: WORD 1